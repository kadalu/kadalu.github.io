<!DOCTYPE HTML>
<html lang="en">
    <head>
        
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title> | Kadalu </title>
<link href="/static/css/fav.png" rel="icon" type="image/x-icon" />
<link rel="apple-touch-icon" href="/static/css/fav.png" />
<meta name="generator" content="Nanoc 4.12.1">
<meta property="og:title" content=""/>
<meta name="author" content=""/>
<meta property="og:locale" content="en_US"/>
<meta name="description" content=""/>
<meta property="og:description" content=""/>
<link rel="canonical" href="/docs/kadalu-storage/latest/devel/add-a-new-feature/"/>
<meta property="og:url" content="/docs/kadalu-storage/latest/devel/add-a-new-feature/"/>
<meta property="og:site_name" content="Kadalu"/>
<meta property="og:image" content=""/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content=""/>
<meta name="twitter:card" content="summary_large_image"/>
<meta property="twitter:image" content=""/>
<meta property="twitter:title" content=""/>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <link rel="stylesheet" href="/static/css/stylesheet.css">
<link rel="stylesheet" href="/static/css/syntax-highlight-emacs.css">
<script defer data-domain="kadalu.io" src="https://plausible.io/js/plausible.js"></script>
<script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.8.2/dist/alpine.min.js" defer></script>

    </head>
    <body>
        

<div class="bg-indigo-900">
    <div class="w-full px-5  m-auto py-5">
        <div class="lg:grid lg:grid-cols-12" x-data="{ menuOpen : false }">
            <div class="col-span-4 lg:col-span-2" style="height:40px">
                <a href="/"><img src="/static/css/logo.png" class="h-10 float-left" /></a>
                <button @click="menuOpen = !menuOpen" class="block absolute md:hidden right-7 top-5 w-8 h-8 text-gray-200 p-1">
                    <svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg>
                </button>
            </div>
            <div class="pt-2 col-span-8 lg:col-span-10">
                <nav class="absolute md:relative top-16 left-0 md:top-0 z-20 md:flex flex-col-reverse md:flex-row-reverse md:space-x-3 font-semibold w-full md:w-auto bg-indigo-900 shadow-md rounded-lg md:rounded-none md:shadow-none md:bg-transparent p-6 pt-5 md:p-0"
                     :class="{ 'flex' : menuOpen , 'hidden' : !menuOpen}"  @click.away="menuOpen = false"
                >
                    <a href="/blog" class="text-gray-300 hover:bg-gray-700 hover:text-white py-4 md:py-2 px-3 rounded-md text-sm font-medium">Blog</a>
                    <a href="/company" class="text-gray-300 hover:bg-gray-700 hover:text-white py-4 md:py-2 px-3 rounded-md text-sm font-medium">Company</a>
                    <a href="/opensource" class="text-gray-300 hover:bg-gray-700 hover:text-white py-4 md:py-2 px-3 rounded-md text-sm font-medium">Open Source</a>
                    <a href="/services" class="text-gray-300 hover:bg-gray-700 hover:text-white py-4 md:py-2 px-3 rounded-md text-sm font-medium">Services</a>
                    <a href="/products" class="text-gray-300 hover:bg-gray-700 hover:text-white py-4 md:py-2 px-3 rounded-md text-sm font-medium">Products</a>
                    <a href="/docs" class="bg-gray-900 text-white py-2 px-3 rounded-md text-sm font-medium">Docs</a>
                </nav>
            </div>
        </div>
    </div>
</div>

        
        <div class="flex flex-col md:grid md:grid-cols-12 w-full" x-data="{docMenuOpen: false}">
            <div class="col-span-3 bg-gray-100" :class="{ 'block mr-10' : docMenuOpen , 'hidden md:block' : !docMenuOpen}" @click.away="docMenuOpen = false">
                <div class="py-5 px-5">
                    
                    <div class="p-5 bg-gray-200 border text-right rounded-lg">
                        <strong>Version: </strong>
                        <select class="input-field" onchange="location = '/docs/kadalu-storage/' + this.value;">
                            <option selected value="latest">latest</option>
                            
                            <option  value="main">main</option>
                            
                        </select>
                    </div>
                    
                    <h2 class="text-xl font-semibold mt-7">User Guide</h2>
                    <ul>
                        
                        
                        
                        <li class="py-2 md:py-0"><a href="/docs/kadalu-storage/latest/quick-start/">Quick Start</a></li>
                        
                        
                        
                        
                        <li class="py-2 md:py-0"><a href="/docs/kadalu-storage/latest/introduction/">Introduction</a></li>
                        
                        
                        
                        
                        <li class="py-2 md:py-0"><a href="/docs/kadalu-storage/latest/install/">Install</a></li>
                        
                        
                        
                        
                        <li class="py-2 md:py-0"><a href="/docs/kadalu-storage/latest/user-management/">User Management</a></li>
                        
                        
                        
                        
                        <li class="py-2 md:py-0"><a href="/docs/kadalu-storage/latest/pools/">Pools</a></li>
                        
                        
                        
                        
                        <li class="py-2 md:py-0"><a href="/docs/kadalu-storage/latest/volumes/">Volumes</a></li>
                        
                        
                        
                        
                        <li class="py-2 md:py-0"><a href="/docs/kadalu-storage/latest/faqs/">FAQs</a></li>
                        
                        
                    </ul>
                    
                    
                    
                </div>
            </div>
            <div id="main" class="col-span-9">
                <div class="py-5 px-10">
                    
                    <div class="mb-10">
                        <span class="inline-block font-semibold text-gray-700 py-1 text-xl">
                            <a href="/">
                                <svg class="w-6 h-6 inline-block" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"></path></svg></a> / <a href="/docs/kadalu-storage">kadalu-storage</a> / <a href="/docs/kadalu-storage/latest">latest</a> / devel/add-a-new-feature/</span>
                    </div>
                    
                    <button @click="docMenuOpen = !docMenuOpen" class="block md:hidden w-8 h-8 text-gray-600 mb-5">
                        <svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg>
                    </button>
                    <div class="mb-24 prose max-w-none prose-indigo">
                        <h1>Add a new feature</h1>
<div class="paragraph">
<p>Let us implement a feature that shows Uptime of all the nodes of a Storage Pool.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">kadalu node uptime &lt;POOL_NAME&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For example,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>kadalu node <span class="nb">uptime </span>DEV
<span class="go">Name                     Uptime
DEV/server1.example.com  up 1 day, 5 hours, 17 minutes
DEV/server2.example.com  up 1 day, 4 hours, 24 minutes</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>First we will add ReST api handler (<code>$SRC/mgr/src/server/plugins/node_uptime.cr</code>)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="crystal"><span class="nb">require</span> <span class="s2">"./helpers"</span>
<span class="nb">require</span> <span class="s2">"../datastore/*"</span>

<span class="n">get</span> <span class="s2">"/api/v1/pools/:pool_name/uptime"</span> <span class="k">do</span> <span class="o">|</span><span class="n">env</span><span class="o">|</span>
  <span class="n">pool_name</span> <span class="o">=</span> <span class="n">env</span><span class="p">.</span><span class="nf">params</span><span class="p">.</span><span class="nf">url</span><span class="p">[</span><span class="s2">"pool_name"</span><span class="p">]</span>

  <span class="n">nodes</span> <span class="o">=</span> <span class="no">Datastore</span><span class="p">.</span><span class="nf">list_nodes</span><span class="p">(</span><span class="n">pool_name</span><span class="p">)</span>

  <span class="n">nodes</span><span class="p">.</span><span class="nf">to_json</span>
<span class="k">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now if we run below curl command, then it returns just the nodes list.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>curl http://localhost:3000/api/v1/pools/DEV/uptime
<span class="go">[
  {
    "id":"341cd9ce-49a6-42ce-bdbf-de4cdbc4159a",
    "name":"kadalu-dev",
    "state":"",
    "endpoint":"http://kadalu-dev:3000",
    "addresses":[],
    "token":"",
    "pool":{
      "id":"986e16f1-8865-481a-b1d7-40431656bf1b",
      "name":"DEV",
      "nodes":[]
    }
  }
]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now lets add a new field to Node struct(<code>$SRC/types/src/moana_types.cr</code>)
so that it can have uptime details when exported.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="crystal">  <span class="k">class</span> <span class="nc">Node</span>
    <span class="kp">include</span> <span class="no">JSON</span><span class="o">::</span><span class="no">Serializable</span>

    <span class="kp">property</span> <span class="nb">id</span> <span class="o">=</span> <span class="s2">""</span><span class="p">,</span>
             <span class="nb">name</span> <span class="o">=</span> <span class="s2">""</span><span class="p">,</span>
             <span class="n">state</span> <span class="o">=</span> <span class="s2">""</span><span class="p">,</span>
             <span class="n">endpoint</span> <span class="o">=</span> <span class="s2">""</span><span class="p">,</span>
             <span class="n">addresses</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">of</span> <span class="no">String</span><span class="p">,</span>
             <span class="n">token</span> <span class="o">=</span> <span class="s2">""</span><span class="p">,</span>
             <span class="n">pool</span> <span class="o">=</span> <span class="no">Pool</span><span class="p">.</span><span class="nf">new</span><span class="p">,</span>
             <span class="n">uptime</span> <span class="o">=</span> <span class="s2">""</span>

    <span class="k">def</span> <span class="nf">initialize</span>
    <span class="k">end</span>
  <span class="k">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>ReST API handler function runs only in the Server node,
so it can&#8217;t get the uptime details from other nodes of
the Pool. Add a <code>node_action</code> to return the uptime from
each node and call that by running <code>dispatch_action</code> helper.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="crystal"><span class="no">ACTION_NODE_UPTIME</span> <span class="o">=</span> <span class="s2">"node_uptime"</span>

<span class="n">node_action</span> <span class="no">ACTION_NODE_UPTIME</span> <span class="k">do</span> <span class="o">|</span><span class="n">_</span><span class="o">|</span>
  <span class="n">rc</span><span class="p">,</span> <span class="n">out</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">execute</span><span class="p">(</span><span class="s2">"uptime"</span><span class="p">,</span> <span class="p">[</span><span class="s2">"--pretty"</span><span class="p">])</span>

  <span class="k">if</span> <span class="n">rc</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="no">NodeResponse</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="kp">true</span><span class="p">,</span> <span class="p">{</span><span class="n">out</span><span class="p">.</span><span class="nf">strip</span><span class="p">}.</span><span class="nf">to_json</span><span class="p">)</span>
  <span class="k">else</span>
    <span class="no">NodeResponse</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="kp">false</span><span class="p">,</span> <span class="p">{</span><span class="s2">"error"</span><span class="p">:</span> <span class="n">err</span><span class="p">}.</span><span class="nf">to_json</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Above node action runs <code>uptime --pretty</code> command and returns
a tuple with uptime data. Every node action receives the input
in JSON format. In the above example, no input is needed to
find the node&#8217;s uptime.</p>
</div>
<div class="paragraph">
<p>Response from the node is sent back to server as <code>NodeResponse</code>
struct. Responses from all the nodes are collected by the
<code>dispatch_action</code> in the server.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="crystal"><span class="nb">require</span> <span class="s2">"./helpers"</span>
<span class="nb">require</span> <span class="s2">"../datastore/*"</span>

<span class="no">ACTION_NODE_UPTIME</span> <span class="o">=</span> <span class="s2">"node_uptime"</span>

<span class="n">node_action</span> <span class="no">ACTION_NODE_UPTIME</span> <span class="k">do</span> <span class="o">|</span><span class="n">_</span><span class="o">|</span>
  <span class="n">rc</span><span class="p">,</span> <span class="n">out</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">execute</span><span class="p">(</span><span class="s2">"uptime"</span><span class="p">,</span> <span class="p">[</span><span class="s2">"--pretty"</span><span class="p">])</span>

  <span class="k">if</span> <span class="n">rc</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="no">NodeResponse</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="kp">true</span><span class="p">,</span> <span class="p">{</span><span class="n">out</span><span class="p">.</span><span class="nf">strip</span><span class="p">}.</span><span class="nf">to_json</span><span class="p">)</span>
  <span class="k">else</span>
    <span class="no">NodeResponse</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="kp">false</span><span class="p">,</span> <span class="p">{</span><span class="s2">"error"</span><span class="p">:</span> <span class="n">err</span><span class="p">}.</span><span class="nf">to_json</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s2">"/api/v1/pools/:pool_name/uptime"</span> <span class="k">do</span> <span class="o">|</span><span class="n">env</span><span class="o">|</span>
  <span class="n">pool_name</span> <span class="o">=</span> <span class="n">env</span><span class="p">.</span><span class="nf">params</span><span class="p">.</span><span class="nf">url</span><span class="p">[</span><span class="s2">"pool_name"</span><span class="p">]</span>

  <span class="n">nodes</span> <span class="o">=</span> <span class="no">Datastore</span><span class="p">.</span><span class="nf">list_nodes</span><span class="p">(</span><span class="n">pool_name</span><span class="p">)</span>

  <span class="n">resp</span> <span class="o">=</span> <span class="n">dispatch_action</span><span class="p">(</span>
    <span class="no">ACTION_NODE_UPTIME</span><span class="p">,</span>
    <span class="n">pool_name</span><span class="p">,</span>
    <span class="n">nodes</span>
  <span class="p">)</span>

  <span class="n">nodes</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">node</span><span class="o">|</span>
     <span class="k">if</span> <span class="n">resp</span><span class="p">.</span><span class="nf">node_responses</span><span class="p">[</span><span class="n">node</span><span class="p">.</span><span class="nf">id</span><span class="p">].</span><span class="nf">ok</span>
      <span class="n">node</span><span class="p">.</span><span class="nf">uptime</span> <span class="o">=</span> <span class="no">Tuple</span><span class="p">(</span><span class="no">String</span><span class="p">).</span><span class="nf">from_json</span><span class="p">(</span>
           <span class="n">resp</span><span class="p">.</span><span class="nf">node_responses</span><span class="p">[</span><span class="n">node</span><span class="p">.</span><span class="nf">id</span><span class="p">].</span><span class="nf">response</span>
      <span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="n">nodes</span><span class="p">.</span><span class="nf">to_json</span>
<span class="k">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now the same curl command returns the Uptime
details for each node in the Pool</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>curl http://localhost:3000/api/v1/pools/DEV/uptime
<span class="go">[
  {
    "id":"341cd9ce-49a6-42ce-bdbf-de4cdbc4159a",
    "name":"kadalu-dev",
    "state":"",
    "endpoint":"http://kadalu-dev:3000",
    "addresses":[],
    "token":"",
    "pool":{
      "id":"986e16f1-8865-481a-b1d7-40431656bf1b",
      "name":"DEV",
      "nodes":[]
    },
    "uptime":"up 1 day, 4 hours, 33 minutes"
  }
]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now add the Client library (<code>$SRC/clients/crystal/src/pools.cr</code>)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="crystal">    <span class="k">def</span> <span class="nf">nodes_uptime</span>
      <span class="n">url</span> <span class="o">=</span> <span class="s2">"</span><span class="si">#{</span><span class="vi">@client</span><span class="p">.</span><span class="nf">url</span><span class="si">}</span><span class="s2">/api/v1/pools/</span><span class="si">#{</span><span class="vi">@name</span><span class="si">}</span><span class="s2">/uptime"</span>
      <span class="n">response</span> <span class="o">=</span> <span class="no">MoanaClient</span><span class="p">.</span><span class="nf">http_get</span><span class="p">(</span>
        <span class="n">url</span><span class="p">,</span>
        <span class="ss">headers: </span><span class="vi">@client</span><span class="p">.</span><span class="nf">auth_header</span>
      <span class="p">)</span>
      <span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="nf">status_code</span> <span class="o">==</span> <span class="mi">200</span>
        <span class="no">Array</span><span class="p">(</span><span class="no">MoanaTypes</span><span class="o">::</span><span class="no">Node</span><span class="p">).</span><span class="nf">from_json</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="no">MoanaClient</span><span class="p">.</span><span class="nf">error_response</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
      <span class="k">end</span>
    <span class="k">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Last but not the least, add CLI command handler (<code>$SRC/mgr/src/cmds/node_uptime.cr</code>)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="crystal"><span class="nb">require</span> <span class="s2">"./helpers"</span>

<span class="n">command</span> <span class="s2">"node.uptime"</span><span class="p">,</span> <span class="s2">"Nodes Uptime"</span> <span class="k">do</span> <span class="o">|</span><span class="n">parser</span><span class="p">,</span> <span class="n">_</span><span class="o">|</span>
  <span class="n">parser</span><span class="p">.</span><span class="nf">banner</span> <span class="o">=</span> <span class="s2">"Usage: kadalu node uptime POOL"</span>
<span class="k">end</span>

<span class="n">handler</span> <span class="s2">"node.uptime"</span> <span class="k">do</span> <span class="o">|</span><span class="n">args</span><span class="o">|</span>
  <span class="n">args</span><span class="p">.</span><span class="nf">pool_name</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">pool_and_node_name</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="nf">pos_args</span><span class="p">.</span><span class="nf">size</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="p">?</span> <span class="s2">""</span> <span class="p">:</span> <span class="n">args</span><span class="p">.</span><span class="nf">pos_args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

  <span class="n">command_error</span> <span class="s2">"Pool name is required"</span> <span class="k">if</span> <span class="n">args</span><span class="p">.</span><span class="nf">pool_name</span> <span class="o">==</span> <span class="s2">""</span>

  <span class="n">api_call</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="s2">"Failed to get list of nodes"</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">client</span><span class="o">|</span>
    <span class="n">nodes</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">pool</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="nf">pool_name</span><span class="p">).</span><span class="nf">nodes_uptime</span>

    <span class="n">table</span> <span class="o">=</span> <span class="no">CliTable</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">table</span><span class="p">.</span><span class="nf">header</span><span class="p">(</span><span class="s2">"Name"</span><span class="p">,</span> <span class="s2">"Uptime"</span><span class="p">)</span>

    <span class="n">nodes</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">node</span><span class="o">|</span>
      <span class="n">table</span><span class="p">.</span><span class="nf">record</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">node</span><span class="p">.</span><span class="nf">pool</span><span class="p">.</span><span class="nf">name</span><span class="si">}</span><span class="s2">/</span><span class="si">#{</span><span class="n">node</span><span class="p">.</span><span class="nf">name</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="n">node</span><span class="p">.</span><span class="nf">uptime</span><span class="p">)</span>
    <span class="k">end</span>

    <span class="n">table</span><span class="p">.</span><span class="nf">render</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now compile again and restart the server.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">cd</span> <span class="nv">$SRC</span>/mgr
<span class="gp">$</span><span class="w"> </span>shards build
<span class="gp">$</span><span class="w"> </span>./bin/kadalu mgr</code></pre>
</div>
</div>
<div class="paragraph">
<p>In other terminal, run the following command
(After creating the Pool and adding nodes)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">root@kadalu-dev:/src/mgr#</span><span class="w"> </span>./bin/kadalu node <span class="nb">uptime </span>DEV
<span class="go">Name            Uptime
DEV/kadalu-dev  up 1 day, 5 hours, 30 minutes</span></code></pre>
</div>
</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="bg-gray-800 text-gray-100 py-10">
    <div class="mx-auto w-full px-5 " style="min-height: 40vh">
        <div class="md:grid gap-2 md:grid-cols-4 md:gap-4">
            <div class="mb-10">
                <h2 class="text-xl font-semibold text-indigo-300">Kadalu</h2>
                <ul>
                    <li><a href="/products#k8s-native-storage">Kubernetes native Storage</a></li>
                    <li><a href="/products#kadalu-storage">Kadalu Storage</a></li>
                    <li><a href="/products#glusterup">GlusterFS monitoring</a></li>
                    <li><a href="/services">Services</a></li>
                    <li><a href="/services#features">Feature development</a></li>
                    <li><a href="/services#upgrade">Upgrade assistance</a></li>
                    <li><a href="/services#consultancy">Consultancy</a></li>
                    <li><a href="/security">Security</a></li>
                </ul>
            </div>

            <div class="mb-10">
                <h2 class="text-xl font-semibold text-indigo-300">Community</h2>
                <ul>
                    <li><a href="/opensource">Open Source</a></li>
                    <li><a href="https://join.slack.com/t/kadalu/shared_invite/enQtNzg1ODQ0MDA5NTM2LWMzMTc5ZTJmMjk4MzI0YWVhOGFlZTJjZjY5MDNkZWI0Y2VjMDBlNzVkZmI1NWViN2U3MDNlNDJhNjE5OTBlOGU">Slack</a></li>
                    <li><a href="https://github.com/kadalu">Github</a></li>
                    <!-- <li><a href="/office-hours">Office Hours</a></li> -->
                </ul>
            </div>

            <div class="mb-10">
                <h2 class="text-xl font-semibold text-indigo-300">Learn</h2>
                <ul>
                    <li><a href="/docs">Documentation</a></li>
                    <li><a href="/blog">Blog</a></li>
                    <li><a href="/faq">FAQ</a></li>
                    <li><a href="/rfcs">RFCs</a></li>
                    <!-- <li><a href="/compare">Compare</a></li> -->
                </ul>
            </div>

            <div class="mb-10">
                <h2 class="text-xl font-semibold text-indigo-300">Company</h2>
                <ul>
                    <li><a href="/company">About</a></li>
                    <li><a href="/contact">Contact</a></li>
                    <li><a href="/sitemap.xml">Sitemap</a></li>
                </ul>

                <h2 class="text-xl font-semibold text-indigo-300 mt-10">Write to us</h2>
                <ul>
                    <li><a href="mailto:hello@kadalu.io"><svg class="w-4 h-4 inline-block mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path><path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path></svg>hello@kadalu.io</a></li>
                </ul>

                <h2 class="text-xl font-semibold text-indigo-300 mt-10">Follow Us</h2>
                <ul>
                    <li><a href="https://twitter.com/kadaluio">Twitter</a></li>
                    <li><a href="https://linkedin.com/company/kadalu-io">Linkedin</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>
<div class="bg-gray-800 text-gray-100 py-10">
    <div class="mx-auto w-3/4 text-center text-gray-300 mb-10">
        &copy; 2022 Kadalu Software Private Limited. All Rights Reserved.
    </div>
</div>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-144588868-2"></script>
<script>
 window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());

 gtag('config', 'UA-144588868-2');
</script>


    </body>
</html>
