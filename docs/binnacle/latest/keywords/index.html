<!DOCTYPE HTML>
<html lang="en">
    <head>
        
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title> | Kadalu </title>
<link href="/static/css/fav.png" rel="icon" type="image/x-icon" />
<link rel="apple-touch-icon" href="/static/css/fav.png" />
<meta name="generator" content="Nanoc 4.12.1">
<meta property="og:title" content=""/>
<meta name="author" content=""/>
<meta property="og:locale" content="en_US"/>
<meta name="description" content=""/>
<meta property="og:description" content=""/>
<link rel="canonical" href="/docs/binnacle/latest/keywords/"/>
<meta property="og:url" content="/docs/binnacle/latest/keywords/"/>
<meta property="og:site_name" content="Kadalu"/>
<meta property="og:image" content=""/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content=""/>
<meta name="twitter:card" content="summary_large_image"/>
<meta property="twitter:image" content=""/>
<meta property="twitter:title" content=""/>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <link rel="stylesheet" href="/static/css/stylesheet.css">
<link rel="stylesheet" href="/static/css/syntax-highlight-emacs.css">
<script defer data-domain="kadalu.github.io" src="https://plausible.io/js/plausible.js"></script>
<script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.8.2/dist/alpine.min.js" defer></script>

    </head>
    <body>
        

<div class="bg-indigo-900">
    <div class="w-full px-5  m-auto py-5">
        <div class="lg:grid lg:grid-cols-12" x-data="{ menuOpen : false }">
            <div class="col-span-4 lg:col-span-2" style="height:40px">
                <a href="/"><img src="/static/css/logo.png" class="h-10 float-left" /></a>
                <button @click="menuOpen = !menuOpen" class="block absolute md:hidden right-7 top-5 w-8 h-8 text-gray-200 p-1">
                    <svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg>
                </button>
            </div>
            <div class="pt-2 col-span-8 lg:col-span-10">
                <nav class="absolute md:relative top-16 left-0 md:top-0 z-20 md:flex flex-col-reverse md:flex-row-reverse md:space-x-3 font-semibold w-full md:w-auto bg-indigo-900 shadow-md rounded-lg md:rounded-none md:shadow-none md:bg-transparent p-6 pt-5 md:p-0"
                     :class="{ 'flex' : menuOpen , 'hidden' : !menuOpen}"  @click.away="menuOpen = false"
                >
                    <a href="/blog" class="text-gray-300 hover:bg-gray-700 hover:text-white py-4 md:py-2 px-3 rounded-md text-sm font-medium">Blog</a>
                    <a href="/opensource" class="text-gray-300 hover:bg-gray-700 hover:text-white py-4 md:py-2 px-3 rounded-md text-sm font-medium">Open Source</a>
                    <a href="/docs" class="bg-gray-900 text-white py-2 px-3 rounded-md text-sm font-medium">Docs</a>
                </nav>
            </div>
        </div>
    </div>
</div>

        
        <div class="flex flex-col md:grid md:grid-cols-12 w-full" x-data="{docMenuOpen: false}">
            <div class="col-span-3 bg-gray-100" :class="{ 'block mr-10' : docMenuOpen , 'hidden md:block' : !docMenuOpen}" @click.away="docMenuOpen = false">
                <div class="py-5 px-5">
                    
                    <div class="p-5 bg-gray-200 border text-right rounded-lg">
                        <strong>Version: </strong>
                        <select class="input-field" onchange="location = '/docs/binnacle/' + this.value;">
                            <option selected value="latest">latest</option>
                            
                            <option  value="main">main</option>
                            
                        </select>
                    </div>
                    
                    <h2 class="text-xl font-semibold mt-7">Tester Guide</h2>
                    <ul>
                        
                        
                        
                        <li class="py-2 md:py-0"><a href="/docs/binnacle/latest/quick-start/">Quick Start</a></li>
                        
                        
                        
                        
                        <li class="py-2 md:py-0"><a href="/docs/binnacle/latest/introduction/">Introduction</a></li>
                        
                        
                        
                        
                        <li class="py-2 md:py-0"><a href="/docs/binnacle/latest/installation/">Installation</a></li>
                        
                        
                        
                        
                        <li class="py-2 md:py-0"><a href="/docs/binnacle/latest/syntax/">Syntax</a></li>
                        
                        
                        
                        
                        <li class="text-indigo-600 font-semibold py-2 md:py-0">Keywords</li>
                        
                        
                        
                        
                        <li class="py-2 md:py-0"><a href="/docs/binnacle/latest/plugins/">Plugins</a></li>
                        
                        
                    </ul>
                    
                    
                    
                </div>
            </div>
            <div id="main" class="col-span-9">
                <div class="py-5 px-10">
                    
                    <div class="mb-10">
                        <span class="inline-block font-semibold text-gray-700 py-1 text-xl">
                            <a href="/">
                                <svg class="w-6 h-6 inline-block" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"></path></svg></a> / <a href="/docs/binnacle">binnacle</a> / <a href="/docs/binnacle/latest">latest</a> / keywords/</span>
                    </div>
                    
                    <button @click="docMenuOpen = !docMenuOpen" class="block md:hidden w-8 h-8 text-gray-600 mb-5">
                        <svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg>
                    </button>
                    <div class="mb-24 prose max-w-none prose-indigo">
                        <h1>Keywords</h1>
<div class="sect1">
<h2 id="_test">TEST</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Runs any given command and validates for the exit code. For example,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ruby"><span class="no">TEST</span> <span class="s2">"stat /var/www/html/index.html"</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Or validate for a specific exit code</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ruby"><span class="no">TEST</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"ls /non/existing/dir"</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_run">RUN</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is very similar to <code>TEST</code> but ignores if any error. This will be useful when some cleanup command to be run but that may fail.</p>
</div>
<div class="paragraph">
<p>For example,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ruby"><span class="no">RUN</span> <span class="n">losetup</span> <span class="o">-</span><span class="n">d</span> <span class="sr">/dev/non</span><span class="n">_existing_dev</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_expect">EXPECT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Runs the given command and validates the output only if exit code of the command is zero.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ruby"><span class="no">EXPECT</span> <span class="s2">"node1.example.com"</span><span class="p">,</span> <span class="s2">"hostname"</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_test_within">TEST_WITHIN</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To be implemented</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_expect_within">EXPECT_WITHIN</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To be implemented</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_exists">EXISTS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To be implemented</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_equal">EQUAL</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Test if given two values are Equal</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ruby"><span class="no">EQUAL</span> <span class="n">var1</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="s2">"Test if var1 == 100"</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_not_equal">NOT_EQUAL</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Test if given two values are not Equal.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ruby"><span class="no">NOT_EQUAL</span> <span class="n">var1</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="s2">"Test if var1 != 100"</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_true">TRUE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Test any expression</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ruby"><span class="no">TRUE</span> <span class="o">&lt;</span><span class="n">expr</span><span class="o">&gt;</span><span class="p">,</span> <span class="s2">"test title"</span><span class="p">,</span> <span class="s2">"message to show on failure"</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ruby"><span class="no">TRUE</span> <span class="mi">42</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">"Even number test for 42"</span>

<span class="n">hn</span> <span class="o">=</span> <span class="no">TEST</span> <span class="s2">"hostname"</span>
<span class="no">TRUE</span> <span class="n">hn</span> <span class="o">==</span> <span class="s2">"node1.example.com"</span><span class="p">,</span> <span class="s2">"hostname test for node1.example.com"</span><span class="p">,</span> <span class="s2">"Actual: </span><span class="si">#{</span><span class="n">hn</span><span class="si">}</span><span class="s2">"</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_false">FALSE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Same as <code>TRUE</code> but validate for <code>false</code></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_use_node">USE_NODE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To switch node to execute the tests.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ruby"><span class="c1"># Approach 1: set required node before the test statements</span>

<span class="no">USE_NODE</span> <span class="s2">"node1.example.com"</span>
<span class="no">TEST</span> <span class="s2">"command1.."</span>
<span class="no">TEST</span> <span class="s2">"command2.."</span>

<span class="no">USE_NODE</span> <span class="s2">"node2.example.com"</span>
<span class="no">TEST</span> <span class="s2">"command1.."</span>
<span class="no">TEST</span> <span class="s2">"command2.."</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ruby"><span class="c1"># Approach 2: Use Block syntax when node switch is required</span>

<span class="c1"># Default node set</span>
<span class="no">USE_NODE</span> <span class="s2">"node1.example.com"</span>

<span class="no">TEST</span> <span class="s2">"command 1"</span>
<span class="no">TEST</span> <span class="s2">"command 2"</span>

<span class="no">USE_NODE</span> <span class="s2">"node2.example.com"</span> <span class="k">do</span>
  <span class="no">TEST</span> <span class="s2">"command 3"</span>
  <span class="no">TEST</span> <span class="s2">"command 4"</span>
<span class="k">end</span>

<span class="c1"># continue running commands in default node</span>
<span class="no">TEST</span> <span class="s2">"command 5"</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_use_remote_plugin">USE_REMOTE_PLUGIN</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Default remote plugin is <code>ssh</code>, change it when required. Similar to <code>NODE</code> keyword, this also supports Block syntax.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ruby"><span class="no">USE_NODE</span> <span class="s2">"node1.example.com"</span>
<span class="no">USE_REMOTE_PLUGIN</span> <span class="s2">"ssh"</span>

<span class="no">TEST</span> <span class="s2">"command 1"</span>

<span class="no">USE_REMOTE_PLUGIN</span> <span class="s2">"docker"</span> <span class="k">do</span>
  <span class="no">USE_NODE</span> <span class="s2">"node2.example.com"</span> <span class="k">do</span>
    <span class="no">TEST</span> <span class="s2">"command 2"</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="c1"># Continue with default plugin</span>
<span class="no">TEST</span> <span class="s2">"command 3"</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_use_ssh_user">USE_SSH_USER</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Set SSH user. Default is "root". This option is only applicable with <code>USE_REMOTE_PLUGIN ssh</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ruby"><span class="no">USE_NODE</span> <span class="s2">"node1.example.com"</span>
<span class="no">USE_REMOTE_PLUGIN</span> <span class="s2">"ssh"</span>
<span class="no">USE_SSH_USER</span> <span class="s2">"ubuntu"</span>

<span class="no">TEST</span> <span class="s2">"stat ~/Public"</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_use_ssh_pem_file">USE_SSH_PEM_FILE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Set SSH pem file path. Default is <code>~/.ssh/id_rsa</code>. This option is only applicable with <code>USE_REMOTE_PLUGIN ssh</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ruby"><span class="no">USE_NODE</span> <span class="s2">"node1.example.com"</span>
<span class="no">USE_REMOTE_PLUGIN</span> <span class="s2">"ssh"</span>
<span class="no">USE_SSH_USER</span> <span class="s2">"ubuntu"</span>
<span class="no">USE_SSH_PEM_FILE</span> <span class="s2">"~/.ssh/automation.pem"</span>

<span class="no">TEST</span> <span class="s2">"stat ~/Public"</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_use_ssh_sudo">USE_SSH_SUDO</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use <code>sudo</code> with all the commands. Default is <code>false</code>. This option is only applicable with <code>USE_REMOTE_PLUGIN ssh</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ruby"><span class="no">USE_NODE</span> <span class="s2">"node1.example.com"</span>
<span class="no">USE_REMOTE_PLUGIN</span> <span class="s2">"ssh"</span>
<span class="no">USE_SSH_USER</span> <span class="s2">"ubuntu"</span>
<span class="no">USE_SSH_SUDO</span> <span class="kp">true</span>

<span class="no">TEST</span> <span class="s2">"echo </span><span class="se">\"</span><span class="s2">127.0.0.1 server1.example.com</span><span class="se">\"</span><span class="s2"> &gt;&gt; /etc/hosts"</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ruby"><span class="no">USE_NODE</span> <span class="s2">"node1.example.com"</span>
<span class="no">USE_REMOTE_PLUGIN</span> <span class="s2">"ssh"</span>
<span class="no">USE_SSH_USER</span> <span class="s2">"ubuntu"</span>

<span class="no">USE_SSH_SUDO</span> <span class="kp">true</span> <span class="k">do</span>
    <span class="no">TEST</span> <span class="s2">"echo </span><span class="se">\"</span><span class="s2">127.0.0.1 server1.example.com</span><span class="se">\"</span><span class="s2"> &gt;&gt; /etc/hosts"</span>
<span class="k">end</span>

<span class="c1"># Run without sudo</span>
<span class="no">TEST</span> <span class="s2">"stat ~/Public"</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_exit_on_not_ok">EXIT_ON_NOT_OK</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default, on error of a test case Test file execution is not terminated. Use this option to Halt the execution on error when required.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ruby"><span class="no">TEST</span> <span class="s2">"command 1"</span>

<span class="c1"># On setting this all future tests will use this setting</span>
<span class="no">EXIT_ON_NOT_OK</span> <span class="kp">true</span>
<span class="no">TEST</span> <span class="s2">"command 2"</span>

<span class="c1"># Only use this setting for some commands</span>
<span class="no">EXIT_ON_NOT_OK</span> <span class="kp">true</span> <span class="k">do</span>
    <span class="no">TEST</span> <span class="s2">"command 3"</span>
    <span class="no">TEST</span> <span class="s2">"command 4"</span>
<span class="k">end</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_embed_other_test_files">Embed other test files</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use <code>load</code> keyword to include the tests/utilities from other files.</p>
</div>
<div class="paragraph">
<p>For example, <code>repeat_tests.t</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ruby"><span class="no">TEST</span> <span class="s2">"command 1"</span>
<span class="no">TEST</span> <span class="s2">"command 2"</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>and the <code>main.t</code> tests file</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ruby"><span class="no">USE_REMOTE_PLUGIN</span> <span class="s2">"docker"</span>

<span class="p">[</span><span class="s2">"node1.example.com"</span><span class="p">,</span> <span class="s2">"node2.example.com"</span><span class="p">,</span> <span class="s2">"node3.example.com"</span><span class="p">].</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">node</span><span class="o">|</span>
    <span class="no">USE_NODE</span> <span class="n">node</span>

    <span class="nb">load</span> <span class="s2">"./repeat_tests.t"</span>
<span class="k">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Note</strong>: Load path is relative to the current directory from where the <code>binnacle</code> command is called.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_emit_stdout">Emit Stdout</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Some times printing the <code>STDOUT</code> output in test report gives better understanding of the Test case.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="ruby"><span class="no">TEST</span> <span class="s2">"command 1"</span>

<span class="c1"># On setting this all future tests will use this setting</span>
<span class="no">EMIT_STDOUT</span> <span class="kp">true</span>
<span class="no">TEST</span> <span class="s2">"command 2"</span>

<span class="c1"># Only use this setting for some commands</span>
<span class="no">EMIT_STDOUT</span> <span class="kp">true</span> <span class="k">do</span>
    <span class="no">TEST</span> <span class="s2">"command 3"</span>
    <span class="no">TEST</span> <span class="s2">"command 4"</span>
<span class="k">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Example output of <code>TEST "stat /var/www/html/index.html"</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre>#   File: /var/www/html/index.html
#   Size: 13            Blocks: 8          IO Block: 4096   regular file
# Device: 10307h/66311d Inode: 4325842     Links: 1
# Access: (0664/-rw-rw-r--)  Uid: ( 1000/aravinda)   Gid: ( 1000/aravinda)
# Access: 2022-06-17 13:11:52.807419056 +0530
# Modify: 2022-06-17 13:11:52.807419056 +0530
# Change: 2022-06-17 13:11:52.807419056 +0530
#  Birth: -
ok       1 - node=local cmd="TEST stat /var/www/html/index.html"</pre>
</div>
</div>
</div>
</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="bg-gray-800 text-gray-100 py-10">
    <div class="mx-auto w-full px-5 " style="min-height: 40vh">
        <div class="md:grid gap-2 md:grid-cols-4 md:gap-4">
            <div class="mb-10">
                <h2 class="text-xl font-semibold text-indigo-300">Community</h2>
                <ul>
                    <li><a href="/opensource">Open Source</a></li>
                    <li><a href="https://join.slack.com/t/kadalu/shared_invite/enQtNzg1ODQ0MDA5NTM2LWMzMTc5ZTJmMjk4MzI0YWVhOGFlZTJjZjY5MDNkZWI0Y2VjMDBlNzVkZmI1NWViN2U3MDNlNDJhNjE5OTBlOGU">Slack</a></li>
                    <li><a href="https://github.com/kadalu">Github</a></li>
                </ul>
            </div>

            <div class="mb-10">
                <h2 class="text-xl font-semibold text-indigo-300">Learn</h2>
                <ul>
                    <li><a href="/docs">Documentation</a></li>
                    <li><a href="/blog">Blog</a></li>
                    <li><a href="/faq">FAQ</a></li>
                    <li><a href="/rfcs">RFCs</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>
<div class="bg-gray-800 text-gray-100 py-10">
    <div class="mx-auto w-3/4 text-center text-gray-300 mb-10">
        &copy; 2022 Kadalu Community(https://github.com/kadalu). All Rights Reserved.
    </div>
</div>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-144588868-2"></script>
<script>
 window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());

 gtag('config', 'UA-144588868-2');
</script>


    </body>
</html>
