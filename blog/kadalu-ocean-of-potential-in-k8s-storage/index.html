<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="utf-8">
        
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>kaDalu — Ocean of potential in k8s storage | Kadalu </title>
<link href="/static/css/fav.png" rel="icon" type="image/x-icon" />
<link rel="apple-touch-icon" href="/static/css/fav.png" />
<meta name="generator" content="Nanoc 4.12.1">
<meta property="og:title" content="kaDalu — Ocean of potential in k8s storage"/>
<meta name="author" content="amarts"/>
<meta property="og:locale" content="en_US"/>
<meta name="description" content="It has been more than 3 years since Kubernetes (k8s) picked up exponential growth. Now, almost every software company and every product are trying to latch on to this phenomena and expand. While such stupendous growth is a nice thing, it is not without its unique challenges."/>
<meta property="og:description" content="It has been more than 3 years since Kubernetes (k8s) picked up exponential growth. Now, almost every software company and every product are trying to latch on to this phenomena and expand. While such stupendous growth is a nice thing, it is not without its unique challenges."/>
<link rel="canonical" href="/blog/kadalu-ocean-of-potential-in-k8s-storage/"/>
<meta property="og:url" content="/blog/kadalu-ocean-of-potential-in-k8s-storage/"/>
<meta property="og:site_name" content="Kadalu"/>
<meta property="og:image" content=""/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2019-08-02"/>
<meta name="twitter:card" content="summary_large_image"/>
<meta property="twitter:image" content=""/>
<meta property="twitter:title" content="kaDalu — Ocean of potential in k8s storage"/>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <link rel="stylesheet" href="/static/css/stylesheet.css">
<link rel="stylesheet" href="/static/css/syntax-highlight-emacs.css">
<script defer data-domain="kadalu.io" src="https://plausible.io/js/plausible.js"></script>
<script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.8.2/dist/alpine.min.js" defer></script>

    </head>
    <body>
        

<div class="bg-indigo-900">
    <div class="w-full px-5 px-10 md:w-3/4 md:px-0 m-auto py-5">
        <div class="lg:grid lg:grid-cols-12" x-data="{ menuOpen : false }">
            <div class="col-span-4 lg:col-span-2" style="height:40px">
                <a href="/"><img src="/static/css/logo.png" class="h-10 float-left" /></a>
                <button @click="menuOpen = !menuOpen" class="block absolute md:hidden right-7 top-5 w-8 h-8 text-gray-200 p-1">
                    <svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg>
                </button>
            </div>
            <div class="pt-2 col-span-8 lg:col-span-10">
                <nav class="absolute md:relative top-16 left-0 md:top-0 z-20 md:flex flex-col-reverse md:flex-row-reverse md:space-x-3 font-semibold w-full md:w-auto bg-indigo-900 shadow-md rounded-lg md:rounded-none md:shadow-none md:bg-transparent p-6 pt-5 md:p-0"
                     :class="{ 'flex' : menuOpen , 'hidden' : !menuOpen}"  @click.away="menuOpen = false"
                >
                    <a href="/blog" class="bg-gray-900 text-white py-2 px-3 rounded-md text-sm font-medium">Blog</a>
                    <a href="/company" class="text-gray-300 hover:bg-gray-700 hover:text-white py-4 md:py-2 px-3 rounded-md text-sm font-medium">Company</a>
                    <a href="/opensource" class="text-gray-300 hover:bg-gray-700 hover:text-white py-4 md:py-2 px-3 rounded-md text-sm font-medium">Open Source</a>
                    <a href="/services" class="text-gray-300 hover:bg-gray-700 hover:text-white py-4 md:py-2 px-3 rounded-md text-sm font-medium">Services</a>
                    <a href="/products" class="text-gray-300 hover:bg-gray-700 hover:text-white py-4 md:py-2 px-3 rounded-md text-sm font-medium">Products</a>
                    <a href="/docs" class="text-gray-300 hover:bg-gray-700 hover:text-white py-4 md:py-2 px-3 rounded-md text-sm font-medium">Docs</a>
                </nav>
            </div>
        </div>
    </div>
</div>

        <div class="py-10">
            <div id="main" class="mx-auto w-full px-10 md:w-3/4 md:px-0 mb-10">
                <div class="grid grid-cols-12 gap-4">
                    <div class="col-span-9 prose max-w-none prose-indigo">
                        <h1>kaDalu — Ocean of potential in k8s storage</h1>
                        
                        
                        <div class="text-gray-500 text-sm mb-1">Posted on <strong>Aug 2, 2019</strong> by <strong>Amar Tumballi</strong></div>
                        <div class="text-gray-600 text-sm mb-7">
                            <svg class="w-6 h-6 inline-block mr-1" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path></svg>
                            6 minutes read.
                        </div>
                        <div class="message bg-blue-200 px-2 py-2 mb-10 rounded">
    <div class="message-body">
        This blog was first published on <a href="https://medium.com/@tumballi/kadalu-ocean-of-potential-in-k8s-storage-a07be1b8b961">Amar Tumballi's Website</a>.
    </div>
</div>
<div class="paragraph">
<p>It has been more than 3 years since Kubernetes (k8s) picked up
exponential growth. Now, almost every software company and every
product are trying to latch on to this phenomena and expand. While
such stupendous growth is a nice thing, it is not without its unique
challenges.</p>
</div>
<div class="sect1">
<h2 id="_k8s_and_storage">k8s and storage:</h2>
<div class="sectionbody">
<div class="paragraph">
<p>While process (CPU), network management has completely moved <a href="https://thenewstack.io/how-to-treat-your-kubernetes-clusters-like-cattle-not-pets/">to cattle mode</a>
in k8s, storage is not virtualized enough to become a cattle mode
candidate. By migrating storage management to CSI (Container Storage
Interface) and introducing concepts of PV (PersistentVolume) and PVC
(PersistentVolumeClaim), k8s now has made it possible for storage
vendors to provide viable solutions. But, it <strong>is not</strong> easy!</p>
</div>
<div class="paragraph">
<p>Let me explain why;</p>
</div>
<div class="ulist">
<ul>
<li>
<p>While network and CPU can stay ephemeral and invoked only when there
is a need for ‘execution’, data needs to be persisted — stored and
retrieved even when processes are not invoked.</p>
</li>
<li>
<p>To "store" data, one needs to access physical storage media,
somewhere.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This is the main reason why object storage made sense (mainly because
it can be accessed with a simple URL, can be hosted outside the
cluster somewhere in the cloud). But this is most efficient for
immutable data only. Applications are still written to work on top of
file-systems, which directly or indirectly sits on top of block
storage. Then the question is, what do we do till then?</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_gluster_and_k8s_story">Gluster and k8s — story</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="http://gluster.org/">Gluster</a>, being a SDS (Software Defined
Storage), has all the ingredients to make storage more cattle mode
like, but lacks a good management layer based on APIs (or call it REST
APIs). The existing implementation made the solution bulkier than
required. Gluster used the “heketi project” as an external entity to
help in k8s world. Even though the whole stack could be containerized
and managed within k8s, the overall complexity of the solution made
its adoption very difficult.</p>
</div>
<div class="paragraph">
<p>The “Rook project” which started as a ‘storage operator’ for k8s early
on, picked Ceph as the storage engine. Rook did a good job of making
‘management’ easy for admins using k8s. Currently, many projects have
ported their plugins to Rook. And Rook is growing in popularity with
Ceph as the focus.</p>
</div>
<div class="paragraph">
<p>In the mean time, Gluster tried to productize its long pending GD2
(which was intended to have embedded REST API). For those who doesn’t
know what is gd2, it means v2.0 (or new way) of glusterd, which is the
management layer of Gluster. There was a plan of bringing together
different Gluster projects under a single umbrella to provide a
comprehensive “container storage solution”, called as GCS (Gluster
Container Storage) or GlusterCS. This isn’t finished and has too many
dependencies to call it production ready as yet. As per my
understanding on contributions are made to these projects in last 4
months or so.</p>
</div>
<div class="paragraph">
<p>The “gluster-subvol” approach which was also attempted didn’t get much
attention though. However, it did solve a major problem of scale of
PVs in k8s. This was not tagged as a generic solution for k8s. Also,
gluster community didn’t perceive this as a generic solution.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>I should say, this is not yet a ‘Gluster community’ project, mainly
as it changes the way Gluster is managed, and perceived in last 10
years.</p>
</div>
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction_to_kadalu">Introduction to kaDalu</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This was the time when the proposal for a light-weight service that
would provide a comprehensive solution, came through. I wrote about it
earlier <a href="https://medium.com/@tumballi/13020a561962">here in my blog</a>. Once we started
prototyping, we called the project as ‘kaDalu’ (ಕಡಲು), which means
Ocean.</p>
</div>
<div class="paragraph">
<p>We talked about this at today’s
<a href="https://devconfin19.sched.com/event/RVPw">DevConf.IN</a>. You can find
the slides for our
<a href="https://github.com/kadalu/kadalu/blob/master/doc/rethinking-gluster-management-using-k8s.pdf">presentation</a>
here, and the demo of our simple two steps install can be found @
<a href="https://asciinema.org/a/259949" class="bare">https://asciinema.org/a/259949</a></p>
</div>
<div class="imageblock">
<div class="content">
<img src="/static/images/kadalu-operator.jpg" alt="Kadalu Overview" width="500">
</div>
</div>
<div class="paragraph">
<p>kaDalu is the operator which provisions the gluster storage as
containers, and manages everything related to GlusterFS, so that k8s
users can get PV/PVC requests done through CSI. As it is developed for
higher versions of k8s where CSI is supported (1.14.+), kaDalu choose
to be an independent operator, instead of a sub-operator under rook
project. kadalu is choosen to be very light weight, so there is no
duplicate layers.</p>
</div>
<div class="paragraph">
<p>One other main solution we wanted to provide with kaDalu project is
helping users (and companies) having traditional storage array, or any
other existing highly available storage, which they want to expose in
k8s. With kadalu, it becomes very easy. All operator and CSI
responsibilities are taken care by kaDalu project, and all you have to
do is, expose the storage in one of the nodes of k8s, and provide
storage config file to k8s.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>One other main solution we wanted to provide with kaDalu project is
helping users (and companies) having traditional storage array, or
any other existing highly available storage, which they want to
expose in k8s</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>We invite you to try out the project, steps to try and install the
operator are in its <a href="https://github.com/kadalu/kadalu">github page</a>.</p>
</div>
<div class="paragraph">
<p>I should say, this is not yet a ‘Gluster community’ project, mainly as
it changes the way Gluster is managed, and perceived in last 10
years. If there are enough users trying it out, and liking the project
we can call it a community project. Right now, this is still
<a href="https://aravindavk.in">Aravinda</a>’s and my pet project. Do give a github star if you like it,
so we know you like it. We also don’t mind you tweeting and blogging
about it :-)</p>
</div>
</div>
</div>
                        <p class="bg-blue-200 px-2 py-2 mb-10 rounded">Join the Kadalu team as we plan, design and develop new features. We are available on our Slack instance, <a href="https://join.slack.com/t/kadalu/shared_invite/enQtNzg1ODQ0MDA5NTM2LWMzMTc5ZTJmMjk4MzI0YWVhOGFlZTJjZjY5MDNkZWI0Y2VjMDBlNzVkZmI1NWViN2U3MDNlNDJhNjE5OTBlOGU">https://kadalu.slack.com</a>.</p>
                    </div>
                    <div class="col-span-3">
                        <div class="mt-20 text-center">
                            <img class="rounded-full mb-5 mx-auto" style="width:150px;height:150px" src="https://github.com/amarts.png?size=300px"/>
                            <h2 class="font-semibold text-center">Amar Tumballi</h2>
                            
                            <p>GlusterFS and Kadalu Maintainer</p>
                            
                            <p>
                                
                                <a class="mr-2 text-indigo-600" href="https://medium.com/@tumballi">Website</a>|
                                
                                
                                <a class="mx-2 text-indigo-600" href="https://twitter.com/tumballi">Twitter</a>|
                                
                                <a class="ml-2 text-indigo-600" href="https://github.com/amarts">Github</a>
                            </p>
                        </div>
                    </div>
            </div>
        </div>
        <div class="bg-gray-800 text-gray-100 py-10">
    <div class="mx-auto w-full px-5 px-10 md:w-3/4 md:px-0" style="min-height: 40vh">
        <div class="md:grid gap-2 md:grid-cols-4 md:gap-4">
            <div class="mb-10">
                <h2 class="text-xl font-semibold text-indigo-300">Kadalu</h2>
                <ul>
                    <li><a href="/products#k8s-native-storage">Kubernetes native Storage</a></li>
                    <li><a href="/products#kadalu-storage">Kadalu Storage</a></li>
                    <li><a href="/products#glusterup">GlusterFS monitoring</a></li>
                    <li><a href="/services">Services</a></li>
                    <li><a href="/services#features">Feature development</a></li>
                    <li><a href="/services#upgrade">Upgrade assistance</a></li>
                    <li><a href="/services#consultancy">Consultancy</a></li>
                    <li><a href="/security">Security</a></li>
                </ul>
            </div>

            <div class="mb-10">
                <h2 class="text-xl font-semibold text-indigo-300">Community</h2>
                <ul>
                    <li><a href="/opensource">Open Source</a></li>
                    <li><a href="https://join.slack.com/t/kadalu/shared_invite/enQtNzg1ODQ0MDA5NTM2LWMzMTc5ZTJmMjk4MzI0YWVhOGFlZTJjZjY5MDNkZWI0Y2VjMDBlNzVkZmI1NWViN2U3MDNlNDJhNjE5OTBlOGU">Slack</a></li>
                    <li><a href="https://github.com/kadalu">Github</a></li>
                    <!-- <li><a href="/office-hours">Office Hours</a></li> -->
                </ul>
            </div>

            <div class="mb-10">
                <h2 class="text-xl font-semibold text-indigo-300">Learn</h2>
                <ul>
                    <li><a href="/docs">Documentation</a></li>
                    <li><a href="/blog">Blog</a></li>
                    <li><a href="/faq">FAQ</a></li>
                    <li><a href="/rfcs">RFCs</a></li>
                    <!-- <li><a href="/compare">Compare</a></li> -->
                </ul>
            </div>

            <div class="mb-10">
                <h2 class="text-xl font-semibold text-indigo-300">Company</h2>
                <ul>
                    <li><a href="/company">About</a></li>
                    <li><a href="/contact">Contact</a></li>
                    <li><a href="/sitemap.xml">Sitemap</a></li>
                </ul>

                <h2 class="text-xl font-semibold text-indigo-300 mt-10">Write to us</h2>
                <ul>
                    <li><a href="mailto:hello@kadalu.io"><svg class="w-4 h-4 inline-block mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path><path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path></svg>hello@kadalu.io</a></li>
                </ul>

                <h2 class="text-xl font-semibold text-indigo-300 mt-10">Follow Us</h2>
                <ul>
                    <li><a href="https://twitter.com/kadaluio">Twitter</a></li>
                    <li><a href="https://linkedin.com/company/kadalu-io">Linkedin</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>
<div class="bg-gray-800 text-gray-100 py-10">
    <div class="mx-auto w-3/4 text-center text-gray-300 mb-10">
        &copy; 2022 Kadalu Software Private Limited. All Rights Reserved.
    </div>
</div>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-144588868-2"></script>
<script>
 window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());

 gtag('config', 'UA-144588868-2');
</script>


    </body>
</html>
